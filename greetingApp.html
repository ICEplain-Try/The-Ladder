<!doctype html>
<html>

<head>
    <title>New Greeting 01</title>
    <meta charset="utf-8">
</head>

<body>
    <h1> Greeting </h1>
    <form>
        <div>
            <label> Your Gender: </label>
            <select id="genderInput">
                <option value="None"> - </option>
                <option> Male </option>
                <option> Female </option>
            </select>
        </div>
        <div>
            <label> Your Name : </label>
            <input type="text" id="nameInput">
        </div>
        <div>
            <label> Your Birthdate : </label>
            <input type="date" id="birthdateInput">
        </div>

        <button id="greetbutton"> Greeting</button>
    </form>
    <script>
        function greet()
        {
            let genderInput = document.getElementById('genderInput');
            let titleName;
            if(genderInput.value == 'None')
            {
                alert('Please select your gender.');
                genderInput.focus();
                return;
            }else if(genderInput.value == 'Female')
            {
                titleName ='Ms.';
            }else{
                titleName ='Mr.';
            }
            let nameInput = document.getElementById('nameInput');
            let name = nameInput.value;
            if(name.trim().length == 0){
                alert('Please enter your name.')
                nameInput.focus();
                return;
            }

            let birthdateInput = document.getElementById('birthdateInput');
            if(birthdateInput.value == '')
            {
                alert('Please enter your birthdate.');
                birthdateInput.focus();
                return;
            }

            let today = new Date();
            let birthdate = new Date(birthdateInput.value);
            let age = today.getFullYear() - birthdate.getFullYear();
            if(age<0)
            {
                alert('Your birthdate is invalid.');
                birthdateInput.focus();
                return;
            }

            let message ='Hello '+ titleName +' '+ name + '! Your age is ' +age + ' years old.';
            return alert(message);
        }

        let greetButton = document.getElementById('greetbutton');
        greetButton.addEventListener('click',greet);
    </script>
</body>

</html>